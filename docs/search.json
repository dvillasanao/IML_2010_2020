[{"path":"index.html","id":"índice-de-marginación-a-nivel-localidad","chapter":"Índice de marginación a nivel localidad","heading":"Índice de marginación a nivel localidad","text":"El índice de marginación nivel localidad es una herramienta clave para analizar y monitorear las condiciones socioeconómicas de las distintas localidades en un país, permitiendo identificar y comprender las disparidades y desigualdades existentes en términos de desarrollo humano y bienestar de la población.Desde su implementación en 1990, el índice de marginación nivel localidad ha experimentado importantes cambios y avances en su metodología y aplicación. Este índice se basa en un conjunto de variables socioeconómicas que incluyen educación, salud, vivienda, servicios básicos, ingresos y ocupación, entre otros. Estas variables se ponderan y se agrupan en diferentes dimensiones para obtener una medida comprensiva de la marginación en cada localidad.lo largo de las últimas décadas, los cambios en el índice de marginación nivel localidad han reflejado transformaciones en las condiciones socioeconómicas de diversas regiones en el país. Estos cambios pueden ser resultado de factores como políticas públicas, inversión en infraestructura, desarrollo económico, entre otros. El análisis temporal del índice de marginación nivel localidad ha permitido identificar tanto mejoras como desafíos persistentes en diferentes áreas geográficas, entre los usos más destacados se encuentra la planificación y diseño de políticas públicas dirigidas reducir las brechas de desigualdad y mejorar las condiciones de vida de la población en las localidades más marginadas. Este índice proporciona información precisa y actualizada para identificar las áreas prioritarias de intervención y asignar recursos de manera equitativa.Base de datos de los tres años se encuentran disponibles en la página oficial de CONAPODatos abiertos de México datos.gob.mxPublicación Índice De Marginación Por Entidad Federativa Y Municipio 2020.","code":""},{"path":"indicadores-simples.html","id":"indicadores-simples","chapter":"Indicadores simples","heading":"Indicadores simples","text":"","code":""},{"path":"indicadores-simples.html","id":"porcentaje-de-población-analfabeta-de-15-años-o-más-i_1i","chapter":"Indicadores simples","heading":"Porcentaje de población analfabeta de 15 años o más \\((I_{1}^{i})\\)","text":"El indicador se obtiene dividiendo el monto de población de 15 años o más que declaró saber leer y escribir un recado, entre la diferencia de la población total de 15 años o más y aquellos que especificaron su condición de alfabetismo:\\[I_{1}^{}=\\frac{PAN_{15+}^{}}{P_{15+}^{}- PNEALF_{15+}^{}}×100\\]donde:\\(PAN_{15+}^{}\\): es la población de 15 años o más analfabeta,\\(P_{15+}^{}\\): es la población total de 15 años o más, y\\(PNEALF_{15+}^{}\\): es la población de 15 años o más que especificó su condición de alfabetismo.","code":""},{"path":"indicadores-simples.html","id":"porcentaje-de-población-de-15-años-o-más-sin-educación-básica-i_2i","chapter":"Indicadores simples","heading":"Porcentaje de población de 15 años o más sin educación básica \\((I_{2}^{i})\\)","text":"El indicador mide la magnitud de la población sin educación básica completa. Su cálculo se realiza en dos etapas. En la primera, la población que especificó su último grado aprobado en secundaria o en estudios técnicos o comerciales con primaria terminada, se distribuye entre la población que aprobó entre uno y dos grados en estos mismos niveles educativos, aplicando la siguiente fórmula:\\[{PSI}_{15+}^{}={PSCI}_{15+}^+\\left[\\frac{{PSCI}_{15+}^}{{PSCI}_{15+}^+{PSCC}_{15+}^}\\times{PNEGS}_{15+}^\\right]\\]donde:\\(P{SI}_{15+}^{}\\): es la población de 15 años o más que aprobó entre el primer y segundo grado de secundaria o estudios técnicos o comerciales con primaria terminada con los especificados de estos niveles educativos ya distribuidos,\\({PSCI}_{15+}^{}\\): es la población de 15 años o más que declaró haber aprobado entre el primer y segundo grado de secundaria o estudios técnicos o comerciales con primaria terminada,\\({PSCC}_{15+}^{}\\): es la población de 15 años o más que cursó el tercer grado en secundaria o tres o cuatro grados en estudios técnicos o comerciales con primaria terminada, y\\({PNEGS}_{15+}^{}\\): es la población de 15 años o más que especificó su último grado cursado en secundaria o en estudios técnicos o comerciales con primaria terminada.Con el dato de la población con estudios truncos en secundaria o en estudios técnicos o comerciales con primaria terminada, se procedió calcular el indicador de porcentaje de población sin educación básica. Este porcentaje se calcula dividiendo la población de 15 años o más sin educación básica, entre la diferencia de la población total de 15 años o más y aquellos que especificaron su nivel educativo:\\[I_{2}^{}=\\frac{{PSIN}_{15+}^+{PPI}_{15+}^+{PSI}_{15+}^}{P_{15+}^-{PNEIN}_{15+}^}\\times100\\]donde:\\({PSIN}_{15+}^{}\\): es la población de 15 años o más sin instrucción,\\({PPI}_{15+}^{}\\): es la población de 15 años o más con algún grado en educación primaria,\\({PSI}_{15+}^{}\\): es la población de 15 años o más con nivel incompleto de secundaria o estudios técnicos o comerciales con primaria terminada,\\(P_{15+}^{}\\): es la población total de 15 años o más, y\\({PNEIN}_{15+}^{}\\): es la población de 15 años o más que especificó su nivel de instrucción.","code":""},{"path":"indicadores-simples.html","id":"porcentaje-de-ocupantes-en-viviendas-particulares-sin-drenaje-ni-sanitario-i_3i","chapter":"Indicadores simples","heading":"Porcentaje de ocupantes en viviendas particulares sin drenaje ni sanitario \\((I_{3}^{i})\\)","text":"Este porcentaje se obtiene al dividir el número de ocupantes de viviendas particulares sin drenaje ni sanitario, entre el número de ocupantes en viviendas particulares, menos el número de ocupantes de viviendas particulares en donde se especificó la disponibilidad de drenaje ni sanitario:\\[I_{3}^{}=\\frac{{OVSDS}^{}}{{OVP}^{}-{ONEDS}^{}}\\times100\\]donde:\\({OVSDS}^{}\\): son los ocupantes de viviendas particulares sin disponibilidad de drenaje ni sanitario,\\({OVP}^{}\\): es el total de ocupantes en viviendas particulares, y\\({ONEDS}^{}\\): son los ocupantes de viviendas particulares en donde se especificó la disponibilidad de drenaje ni sanitario.","code":""},{"path":"indicadores-simples.html","id":"porcentaje-de-ocupantes-en-viviendas-particulares-sin-energía-eléctrica-i_4i","chapter":"Indicadores simples","heading":"Porcentaje de ocupantes en viviendas particulares sin energía eléctrica \\((I_{4}^{i})\\)","text":"Este indicador se obtiene al dividir el número de ocupantes de viviendas particulares sin disponibilidad de energía eléctrica, entre el número de ocupantes en viviendas particulares menos el número de ocupantes de viviendas particulares en donde se especificó la existencia de luz eléctrica:\\[I_{4}^{}=\\frac{{OSEE}^}{{OVP}^{}-{ONEEE}^{}}\\times100\\]\ndonde:\\({OVSDS}^{}\\): son los ocupantes de viviendas particulares sin disponibilidad de drenaje ni sanitario,\\({OVP}^{}\\): es el total de ocupantes en viviendas particulares, y\\({ONEDS}^{}\\): son los ocupantes de viviendas particulares en donde se especificó la disponibilidad de drenaje ni sanitario.","code":""},{"path":"indicadores-simples.html","id":"porcentaje-de-ocupantes-en-viviendas-particulares-sin-energía-eléctrica-i_4i-1","chapter":"Indicadores simples","heading":"Porcentaje de ocupantes en viviendas particulares sin energía eléctrica \\((I_{4}^{i})\\)","text":"Este indicador se obtiene al dividir el número de ocupantes de viviendas particulares sin disponibilidad de energía eléctrica, entre el número de ocupantes en viviendas particulares menos el número de ocupantes de viviendas particulares en donde se especificó la existencia de luz eléctrica:\\[I_{4}^{}=\\frac{{OSEE}^}{{OVP}^-{ONEEE}^}\\times100\\]donde:\\({OSEE}^{}\\): son los ocupantes de viviendas particulares sin disponibilidad de energía eléctrica,\\({OVP}^{}\\): es el total de ocupantes en viviendas particulares, y\\({ONEEE}^{}\\): es el número de ocupantes de viviendas particulares en donde se especificó la disponibilidad de energía eléctrica.","code":""},{"path":"indicadores-simples.html","id":"porcentaje-de-ocupantes-en-viviendas-particulares-sin-agua-entubada-i_5i","chapter":"Indicadores simples","heading":"Porcentaje de ocupantes en viviendas particulares sin agua entubada \\((I_{5}^{i})\\)","text":"Para obtener este indicador se divide el número de ocupantes en viviendas particulares que disponen de agua entubada, entre la diferencia del total de ocupantes en viviendas particulares y el total de ocupantes en viviendas en donde se especificó la disponibilidad de agua entubada:\\[I_{5}^{}=\\frac{{OSAE}^}{{OVP}^-{ONEAE}^}\\times100\\]donde:\\({OSAE}^{}\\): son los ocupantes de viviendas particulares sin disponibilidad de agua entubada,\\({OVP}^{}\\): es el total de ocupantes en viviendas particulares, y\\({ONEAE}^{}\\): son los ocupantes de viviendas particulares en donde se especificó la disponibilidad de agua entubada.","code":""},{"path":"indicadores-simples.html","id":"porcentaje-de-ocupantes-en-viviendas-particulares-con-piso-de-tierra-i_6i","chapter":"Indicadores simples","heading":"Porcentaje de ocupantes en viviendas particulares con piso de tierra \\((I_{6}^{i})\\)","text":"En este indicador se identifican los ocupantes de viviendas particulares con piso de tierra y se divide entre el total de ocupantes en viviendas particulares, menos el número de ocupantes de viviendas particulares en donde se especificó el material predominante en pisos:\\[I_{6}^{}=\\frac{{OPT}^}{{OVP}^-{ONEMP}^}\\times100\\]donde:\\({OPT}^{}\\): son los ocupantes de viviendas particulares con piso de tierra,\\({OVP}^{}\\): es el total de ocupantes en viviendas particulares, y\\({ONEMP}^{}\\): son los ocupantes de viviendas particulares en las que se especificó el material predominante en pisos.","code":""},{"path":"indicadores-simples.html","id":"porcentaje-de-ocupantes-en-viviendas-particulares-con-hacinamiento-i_7i","chapter":"Indicadores simples","heading":"Porcentaje de ocupantes en viviendas particulares con hacinamiento \\((I_{7}^{i})\\)","text":"El procedimiento para el cálculo de este indicador constó de dos etapas. Primero, en cada vivienda particular habitada se dividió el número de ocupantes entre el número de cuartos dormitorio, para identificar las viviendas con hacinamiento:\\[OVHAC=\\frac{OVP}{CDVP}\\]\ndonde:\\(VHAC\\): es la vivienda con hacinamiento,\\(OVP\\): es el número de ocupantes que residen habitualmente una vivienda particular, y\\(CDVP\\): es el número de cuartos dormitorio en una vivienda particular.En la segunda fase de cálculo, se dividió el número de ocupantes en viviendas particulares con hacinamiento, entre el total de ocupantes en viviendas particulares habitadas menos el número de ocupantes en viviendas particulares habitadas donde se especificó el número de cuartos dormitorio:\\[I_{7}^{}=\\frac{O{VHAC}^}{{OVP}^-{ONECD}^}\\times100\\]donde:\\({OVHAC}^{}\\): son los ocupantes en viviendas particulares con hacinamiento,\\({OVP}^{}\\): es el total de ocupantes en viviendas particulares, y\\({ONECD}^{}\\): son los ocupantes en viviendas particulares en donde se especificó el número de cuartos dormitorio.","code":""},{"path":"indicadores-simples.html","id":"porcentaje-de-ocupantes-en-viviendas-particulares-sin-refrigerador-i_8i","chapter":"Indicadores simples","heading":"Porcentaje de ocupantes en viviendas particulares sin refrigerador \\((I_{8}^{i})\\)","text":"En este indicador se identifican los ocupantes en viviendas particulares que disponen de refrigerador y se divide entre el total de ocupantes en viviendas particulares menos los ocupantes en viviendas particulares que especificaron la disponibilidad de refrigerador:\\[I_{8}^{}=\\frac{{OSR}^}{{OVP}^-{ONER}^}\\times100\\]donde:\\({OSR}^{}\\): son los ocupantes de viviendas particulares sin disponibilidad de refrigerador,\\({OVP}^{}\\): es el total de ocupantes en viviendas particulares, y\\({ONER}^{}\\): son los ocupantes de viviendas particulares en donde se especificó la disponibilidad de refrigerador.Indicadores simples","code":"\nIndicadores <- c(\n                 'Porcentaje de población de 15 años o más analfabeta', \n                 'Porcentaje de población de 15 años o más sin educación básica',\n                 'Porcentaje de ocupantes en viviendas sin drenaje ni excusado',\n                 'Porcentaje de ocupantes en viviendas sin energía eléctrica', \n                 'Porcentaje de ocupantes en viviendas sin agua entubada', \n                 'Porcentaje de viviendas con algún nivel de hacinamiento',\n                 'Porcentaje de ocupantes en viviendas con piso de tierra',\n                 'Porcentaje de ocupantes en viviendas sin refrigerador'\n                 )"},{"path":"base-de-datos.html","id":"base-de-datos","chapter":"Base de datos","heading":"Base de datos","text":"Se definen los años que se van analizar los índice de marginaciónSe carga la base de datos","code":"\ntablas <- c(\"2010\", \"2020\")\nfor(i in tablas){\nload(file = paste0(here::here(),\"/Bases/IML_\", i, \".RData\")) \n}\n\n##Se cambia el nombre de la columna año, para evitar problemas de puntuación\n## Se cambia la variable año a factor\nfor(i in tablas){\nassign(paste0(\"tabla_\",i), get(paste0(\"tabla_\",i)) %>% \n                            rename(\"ANIO\" = \"AÑO\") %>%\n                             filter(NOM_ENT != \"Nacional\") %>%\n                              dplyr::mutate(ANIO = as.factor(.$ANIO)))\n}"},{"path":"análisis-de-correlaciones.html","id":"análisis-de-correlaciones","chapter":"Análisis de correlaciones","heading":"Análisis de correlaciones","text":"La función corrplot en R es utilizada para crear matrices de correlación visualmente atractivas y fáciles de interpretar. Esta función es parte del paquete corrplot, que proporciona herramientas para visualizar y analizar matrices de correlación.La matriz de correlación es una tabla que muestra las correlaciones entre pares de variables. En análisis de datos, la correlación se utiliza para medir la relación entre dos variables. Puede ser útil para comprender cómo se relacionan diferentes variables entre sí y cómo afectan otras variables en un conjunto de datos.","code":"\ncol2 <- colorRampPalette(c(\"#67001F\", \"#B2182B\", \"#D6604D\", \"#F4A582\", \"#FDDBC7\", \"#FFFFFF\", \"#D1E5F0\", \"#92C5DE\",\"#4393C3\", \"#2166AC\", \"#053061\"))\npar(mfrow = c(1,2), family = \"montserrat\", mar = c(0.5, 0, 0, 0), cex.main = 3, col.main = \"#053061\")\n#Análisis de correlaciones\np <- lapply(1:2, function(i){ \n                  x <- cor(get(paste0(\"tabla_\",tablas[i]))[,10:17]) \n                  corrplot(x,\n                           title = paste(tablas[i]),\n                            type = \"upper\",\n                             method = \"color\",\n                              col = col2(100),\n                               tl.col = \"blue4\",\n                                tl.offset = 0.1,\n                                 tl.cex = 3,\n                                  tl.srt = 90,\n                                   cl.align.text = \"c\",\n                                    number.cex = 2,\n                                     cl.cex = 2.5,\n                                      addCoef.col = \"white\", # Add coefficient of correlation\n                                       mar = c(20,0,2.5,0))\n}\n)"},{"path":"método-de-distancias-dp2.html","id":"método-de-distancias-dp2","chapter":"Método de Distancias \\(DP2\\)","heading":"Método de Distancias \\(DP2\\)","text":"José Bernardo Pena Trapero: Problemas de la medición del bienestar y conceptos afines (1977)Los métodos de distancias son enfoques utilizados para medir el bienestar o la calidad de vida de las personas través de la comparación de diferentes dimensiones o indicadores. Estos métodos se basan en la idea de que el bienestar se puede evaluar considerando la distancia o diferencia entre los individuos en términos de ciertos atributos o variables relevantes.\nLa Distancia \\(DP_{2}\\), es un indicador sintético, definido por el profesor J. Bernardo Pena Trapero, basado en el concepto de distancia, construido, como su nombre indica para medir distancias entre unidades geográficas, o bien, también se puede aplicar comparaciones tanto cronológicas como interespaciales.DefiniciónSean:\\(\\:\\:\\circ\\:r\\), el número de localidades;\\(\\:\\:\\circ\\:n\\), el número de variables;\\(\\:\\:\\circ\\:x_{ij}\\), el valor de la variable j en la localidad ;\\(\\:\\:\\circ\\:\\sigma_{j}\\), La Desviación Típica de la variable j;\\(\\:\\:\\circ\\:R^{2}_{,-1,...,1}\\) el Coeficiente de Determinación en la Regresión de \\(X_{}\\) sobre \\(X_{-1},X_{-2},...,X_{1}\\).Se define la \\(Distancia-P_{2}\\) de la forma:\\[\\begin{align}\nDP_{2}=\\sum^{n}_{=1}\\frac{d_{}}{\\sigma_{}}(1-R^{2}_{,-1,...,1})\\:\\:;\\;\\;con \\:\\:R^{2}_{1}=0\n\\end{align}\\]Donde:\\(\\:\\:\\circ\\:d_{} = d_{}(r,*) = |x_{ri}-x_{*}|\\) |: es la distancia de la j-ésima variable de la localidad \\(r\\) con respecto la base de referencia \\(x_{*}=(x_{*1}, x_{*2},..., x_{*n})\\). Tomando como punto de referencia el valor mínimo de la variable, siendo esta la peor situación teórica,\\(\\:\\:\\circ\\:\\sigma_{}\\) : es la desviación estándar de la variable \\(𝑗\\),\\(\\:\\:\\circ\\:R^{2}_{,-1,...,1}\\): es el coeficiente de determinación de la regresión del indicador parcial \\(𝑗\\) con respecto los otros indicadores \\((𝑗−1,𝑗−2,…,1)\\). Esta expresión es parte de la varianza del indicador parcial \\(I_{j}\\) que se explica linealmente por el resto de los indicadores parciales,\\(\\:\\:\\circ\\:(1-R^{2}_{,-1,...,1})\\)): es el factor corrector que evita la duplicidad, al eliminar la información parcial de los indicadores ya contenidos en los indicadores precedentes, y\\(\\:\\:\\circ\\:R^{2}_{1}=0\\); porque la primera componente aporta toda la información y al existir un componente previo su ponderación es la unidad.El \\(DP_{2}\\) cumple con las siguientes propiedades: negatividad, homogeneidad, conmutatividad, desigualdad triangular, existencia y determinación, monotonía, unicidad, transitividad, duplicidad de información, invariancia al cambio de origen y/o de escala en las unidades y exhaustividad.El orden de entrada de las variables","code":"\n# Se multiplica por -1, debido a que son indicadores de carencia \nfor(i in tablas){   \n  assign(paste0(\"DP2_datos_\",i), (-1 * get(paste0(\"tabla_\", i))[10:17]))\n}"},{"path":"método-de-distancias-dp2.html","id":"base-de-referencia","chapter":"Método de Distancias \\(DP2\\)","heading":"Base de referencia","text":"Se toma como base de referencia el valor del mínimo del 2010 - 2020, ya que este tipo de cambio permite la comparabilidad en el tiempo.","code":"\n#Base de referencia 2010 - 2020\nfor(i in tablas){\nassign(paste0(\"minRV_\", i), setNames(c(-100, # ANALF\n                                       -100, # SBASC\n                                       -100, # OVSDE\n                                       -100, # OVSEE\n                                       -100, # OVSAE\n                                       -100, # OVPT\n                                       -100, # OVHAC\n                                       -100), # OVSREF\n                              nm = c(\"ANALF\", \"SBASC\", \"OVSDE\", \"OVSEE\", \"OVSAE\", \"OVPT\", \"OVHAC\", \"OVSREF\")))\n}"},{"path":"método-de-distancias-dp2.html","id":"método-de-distancia-dp_2","chapter":"Método de Distancias \\(DP2\\)","heading":"Método de Distancia \\(DP_{2}\\)","text":"Total de iteracionesSe anexan los resultados las bases de datos original","code":"\nrequire(p2distance)\n##Calculo del Método de Distancias DP2\nfor(i in tablas){\nassign(paste0(\"ind_\",i), p2distance(matriz = as.matrix(get(paste0(\"DP2_datos_\", i))), \n                                     reference_vector = get(paste0(\"minRV_\", i)), \n                                      iterations = 50))\n}\niteration <- lapply(1:2, function(x) get(paste0(\"ind_\", tablas[x]))[[\"iteration\"]])\nfor(i in tablas){\nassign(paste0(\"DP2_\",i), cbind(get(paste0(\"tabla_\",i)), get(paste0(\"ind_\",i))[[\"p2distance\"]]))\n}\n\n# Se cambian los nombres de las columnas \nfor(i in 1:2){\n  columns = get(paste0(\"DP2_\",tablas[i]))\n  colnames(columns) = c(\"CVE_LOC\", \"ENT\", \"NOM_ENT\", \"MUN\", \"NOM_MUN\", \"LOC\", \"NOM_LOC\", \"POB_TOT\", \"ANIO\",\n                        \"ANALF\", \"SBASC\", \"OVSDE\", \"OVSEE\", \"OVSAE\", \"OVPT\", \"OVHAC\", \"OVSREF\",\n                        paste0(\"IM_\", tablas[i]))\n  assign(paste0(\"DP2_\",tablas[i]), columns)\n  rm(columns)\n}"},{"path":"método-de-estratificación.html","id":"método-de-estratificación","chapter":"Método de estratificación","heading":"Método de estratificación","text":"","code":""},{"path":"método-de-estratificación.html","id":"identificación-de-datos-atípicos","chapter":"Método de estratificación","heading":"Identificación de datos atípicos","text":"Para hacer cumplir la definición de los límites en el método de estratificación [véase: Método de estratificación de Dalenius & Hodges] y el número óptimo de clases basados en la media aritmética, es importante la identificación de datos atípicos porque podrían ocasionar resultados poco adecuados. Para contrarrestar este problema, Hubert y Vandervieren (2007) proponen el método de caja, el cual toma en cuenta el grado de asimetría de un conjunto de datos.\\[\\left[Q_{1} - 1.5e^{-4MC} IQR; \\hspace{0.5cm}  Q_{3} + 1.5e^{-4MC} IQR \\right] \\text{para } MC \\geq 0\\]\n\\[\\left[Q_{1} - 1.5e^{-3MC} IQR; \\hspace{0.5cm}  Q_{3} + 1.5e^{-3MC} IQR \\right] \\text{para } MC < 0\\]\ndonde:\\(\\circ \\:𝑄_{1}\\) 𝑦 \\(𝑄_{3}\\): hacen referencia al primer y tercer cuartil, respectivamente; la diferencia entre estos dos valores da como resultado el valor de espacio intercuartil (\\(𝐼𝑄𝑅\\)), y\\(\\circ \\:𝑀𝐶 (𝑚𝑒𝑑𝑐𝑜𝑢𝑝𝑙𝑒)\\): cuantifica el grado de asimetría de una muestra univariable \\({𝑥_1,𝑥_2,… ,𝑥_𝑛}\\).Se identifican los casos extremos en el índice de marginación y se aplica el método de caja propuesto por Hubert y Vandervieren, concluyendo los límites con los que se debe trabajar.","code":"\nfor(i in tablas){\n  assign(paste0(\"outliers_\", i), boxplot.stats(get(paste0(\"DP2_\", i))[,18]))\n}\n## Se crea un índice ficticio, en la que se quitan los outliers   \nfor(i in tablas){\nassign(paste0(\"DP2_\", i), get(paste0(\"DP2_\", i)) %>% \n                            mutate(IM = get(paste0(\"IM_\", i))) %>%\n                             mutate(IM_out = if_else(.$IM >= get(paste0(\"outliers_\", i))$stats[1],\n                                                      .$IM,\n                                                        get(paste0(\"outliers_\", i))$stats[1])) %>%\n                              select(-paste0(\"IM_\",i))\n  )\n}"},{"path":"método-de-estratificación.html","id":"método-de-estratificación-de-dalenius-hodges","chapter":"Método de estratificación","heading":"Método de estratificación de Dalenius & Hodges","text":"strata.cumrootf: cumulative root frequency method Dalenius Hodges (1959).Con la obtención del índice de marginación través del método DP2, los valores se clasificaron en cinco categorías ordinales con el método de Dalenius y Hodges (1959), para obtener el grado de marginación. Este método forma estratos de manera que la varianza sea mínima al interior de cada estrato y máxima entre cada uno de ellos, es decir, son lo más homogéneos posibles. Este procedimiento utiliza la raíz de las frecuencias acumuladas para la construcción de los estratos, por lo que se lleva cabo para la división de la población en el estrato L. Esta es una solución aproximada de Dalenius y Hodges (1959) las ecuaciones de Dalenius (1950). De acuerdo con Gunning y Horgan (2004), el límite superior de cada estrato se determinó con la siguiente expresión:\\[Q = \\frac{1}{L}\\sum^{J}_{=1}{\\sqrt{f_{}}}\\]Sea un conjunto de estratos determinados por su límite superior,\\[Q,\\ 2Q,\\ \\ldots,\\ \\left(L-1\\right)Q,\\ (L)Q.\\]\ndonde:\\(\\circ \\:J\\): es el número de clases dentro del grupo de la variable ordenada X,\\(\\circ \\:f_{}\\ \\(1,\\ \\ldots, J)\\): es la frecuencia en cada clase \\(J\\), y\\(\\circ \\:L\\): es el número de estratos.La eficiencia del método de la raíz de las frecuencias acumuladas depende principalmente del número de clases dentro del grupo de la variable ordenada. Sin embargo, hay un procedimiento estándar sobre cómo elegir el mejor valor para el número de clases, siendo esto una limitante del método de Dalenius y Hodges. Para medir el efecto del número de clases en la varianza de cada estrato se recurrió un método iterativo para obtener un criterio de agrupación óptimo.Para establecer los límites de los estratos \\((b_{1},\\ \\ldots,\\ b_{L})\\) que minimicen la varianza del estimador, se utiliza la asignación de Neyman para determinar el tamaño de muestra óptimo. Sea la varianza del estimador:\\[V\\left({\\bar{x}}_{st}\\right)=\\ \\sum_{h}\\left(\\frac{N_h}{N}\\right)^2\\frac{S_h^2}{n_h}\\ \\]\ndonde:\\(\\circ \\: S_{h}^{2}\\): es la varianza poblacional en el estrato \\(h\\),\\(\\circ \\:n_{h}\\): es el tamaño de muestra en el estrato \\(h\\) utilizada por la asignación de Neyman, y\n\\(\\circ \\:N_{h}\\): es el total de elementos en el estrato \\(h\\), sea \\(N=\\sum_{h=1}^{L}{N_{h}}\\).Si se asume que la distribución dentro de cada estrato se distribuye aproximadamente de manera uniforme, los límites se obtienen tomando intervalos iguales en la función de la raíz de las frecuencias acumuladas. Los límites se resuelven de manera iterativa:\\[\\frac{S_h^2+(b_h-{\\bar{X}}_h)2}{S_h}=\\frac{S_{h+1}^2+(b_h-{\\bar{X}}_{h+1})2}{S_{h+1}}\\ para\\ h=1,\\ \\ldots.\\ ,\\ L-1\\]\ndonde:\\(\\circ \\: b_{h}\\): es el límite superior en el estrato \\(h\\),\\(\\circ \\: {\\bar{X}}_{h}\\): es la media poblacional en el estrato \\(h\\), y\\(\\circ \\: S_{h}^{2}\\): es la varianza poblacional en el estrato \\(h\\).El requisito de precisión, generalmente se establece cuando el coeficiente de variación sea igual un nivel especificado entre 1 y 10 por ciento (Hidiroglou y Kozak, 2018).","code":""},{"path":"método-de-estratificación.html","id":"número-óptimo-de-clases-del-método-de-dalenius-hodge","chapter":"Método de estratificación","heading":"Número óptimo de clases del método de Dalenius & Hodge","text":"alloc lista que especifica el esquema de asignación. La lista debe contener 3 números para los 3 exponentes q1, q2 y q3 en el esquema de asignación general (ver paquete de stratification). El valor predeterminado es la asignación de Neyman (q1 = q3 = 0.5 y q2 = 0)","code":"\niteraciones <- 100\nstart.time <- Sys.time()\nDH_Localidad <- list()\nstderr <- list()\nmean <- list()\nvar <- list()\nfor(j in 1:2){\ni <- 1\n  sd <- matrix(NA, nrow = (iteraciones), ncol = 3)\n  meanh <- matrix(NA, nrow = (iteraciones), ncol = 6)\n  varh <- matrix(NA, nrow = (iteraciones), ncol = 6)\n for(n in seq(5, (iteraciones), 1)){\n      DH_Localidad[[paste(tablas[j])]][[n]] <- strata.cumrootf(x = get(paste0(\"DP2_\", tablas[j]))[,19], CV = 0.05, Ls = 5, alloc = c(0.5, 0, 0.5), nclass = n)\n      cum <- DH_Localidad[[paste(tablas[j])]][[n]]\n      sd[i,] <-  c(n, cum$stderr, cum$CV)\n      meanh[i,] <- c(n, cum$meanh)\n      varh[i,] <-  c(n, cum$varh)\n      i <- i + 1\n}\n  stderr[[j]] <- sd\n  mean[[j]] <- meanh\n  var[[j]] <- varh\n}\n\nfor(i in 1:2){\n  colnames(stderr[[i]]) <- c(\"n\", \"sderr\", \"CV\")\n}\n\nend.time <- Sys.time()\ntime.taken <- round(end.time - start.time, 2)\ntime.taken"},{"path":"método-de-estratificación.html","id":"número-óptimo-de-clases","chapter":"Método de estratificación","heading":"Número óptimo de clases","text":"Se toman en cuenta el número de clases que salen del los resultados del método iterativo.Se agregan los datos la base original","code":"\nmin.strata <- NULL\nfor(i in 1:2){\n  min.strata[[i]] <- stderr[[i]] %>%\n                      as.data.frame() %>% \n                       slice(which.min(.$CV))\n}\nfor(i in 1:2){\n  assign(paste0(\"strata.DP2_\",tablas[i]), strata.cumrootf(get(paste0(\"DP2_\",tablas[i]))[,19],\n                                                           CV = 0.05,\n                                                            Ls = 5,\n                                                             alloc = c(0.5, 0, 0.5), \n                                                              nclass = min.strata[[i]][,1]))\n}\n##Se agrega a la base DP2\nfor(i in 1:2){\n  assign(paste0(\"DP2_\", tablas[i]), data.frame(get(paste0(\"DP2_\", tablas[i])) %>% \n                                                select(-IM_out),   # Se quita el índice ficticio\n                                                 get(paste0(\"strata.DP2_\", tablas[i]))[[\"stratumID\"]]))\n}\n\n# Se cambian los nombres de las columnas \nfor(i in 1:2){\n  columns = get(paste0(\"DP2_\",tablas[i]))\n  colnames(columns) = c(\"CVE_LOC\", \"ENT\", \"NOM_ENT\", \"MUN\", \"NOM_MUN\", \"LOC\", \"NOM_LOC\", \"POB_TOT\", \"ANIO\",\n                        \"ANALF\", \"SBASC\", \"OVSDE\", \"OVSEE\", \"OVSAE\", \"OVPT\", \"OVHAC\", \"OVSREF\",\n                        paste0(\"IM_\",tablas[i]), paste0(\"GM_\",tablas[i]))\n  assign(paste0(\"DP2_\",tablas[i]), columns)\n  rm(columns)\n}\n\n# Se cambian los levels a los grados de marginación correspondientes\nfor(i in tablas){\n  niveles = get(paste0(\"DP2_\",i)) \n  levels(niveles[,19]) = c(\"Muy alto\", \"Alto\", \"Medio\", \"Bajo\", \"Muy bajo\")\n  assign(paste0(\"DP2_\",i), niveles)\n}"},{"path":"método-de-estratificación.html","id":"límites-de-los-estratos","chapter":"Método de estratificación","heading":"Límites de los estratos","text":"","code":"\nlimites <- data.frame(\"2010\" = c(min(DP2_2010$IM_2010), strata.DP2_2010$bh, max(DP2_2010$IM_2010)),\n                      \"2020\" = c(min(DP2_2020$IM_2020), strata.DP2_2020$bh, max(DP2_2020$IM_2020)))"},{"path":"índice-normalizado.html","id":"índice-normalizado","chapter":"Índice normalizado","heading":"Índice normalizado","text":"Otra forma de apreciar el índice de marginación es normalizando sus valores para ver objetivamente la evolución de cada unidad territorial (Somarriba et al. 2013). La normalización se realiza utilizando un cambio de escala conocido como normalización mínima-máxima. Con este procedimiento el índice de marginación se escala valores relativos con un rango de entre cero y uno, lo cual permite su comparación numérica y le da una propiedad adicional al índice de marginación. Al mismo tiempo, la normalización determina el mismo sentido que el índice obtenido por el método DP2, donde los valores cercanos cero implican mayor marginación.El proceso de normalización consiste en:\\[{DP}_2normalizado=\\frac{{DP}_2^-\\min({DP}_2)}{\\max({DP}_2)-\\min({DP}_2)},\\]\ndonde:\\(\\circ \\: {DP}_{2}^{}\\): es el valor del índice de marginación de la localidad \\(\\),\\(\\circ \\: min ({DP}_{2})\\): es el valor mínimo o peor escenario que puede tomar el índice, y\\(\\circ \\: max ({DP}_{2})\\): es el valor máximo u objetivo que puede tomar el índice.","code":""},{"path":"índice-normalizado.html","id":"desviación-estandar-de-los-indicadores-simples","chapter":"Índice normalizado","heading":"Desviación estandar de los indicadores simples","text":"Varianza muestral insesgadaEstimado insesgado de la varianza poblacional\\[s^{2} = \\frac{1}{n-1}\\left(x_{}-\\bar{x}\\right)^{2} = \\frac{\\sum_{=1}^{n}(x_{}^{2})}{n-1} - \\frac{\\sum_{=1}^{n}(x_{})^{2}}{(n-1)\\: n } = \\left(\\frac{n-1}{n}\\right)s_{n}^{2} \\]","code":"\n# Desviación estandar de los indicadores\ndesvest <- NULL\nfor(i in 1:2){\ndesvest[[i]] <- as.matrix(apply(get(paste0(\"DP2_\", tablas[i]))[10:17], MARGIN = 2, sd)) %>%\n                 as.data.frame() %>%\n                  rename(\"desvest\" = \"V1\") %>%\n                   dplyr::mutate(sd_muestral = .$desvest * (sqrt((dim(get(paste0(\"DP2_\",tablas[i]))[10:17])[1] - 1)/dim(get(paste0(\"DP2_\",tablas[i]))[10:17])[1]))) %>%\n                    dplyr::mutate(desvest.inversa = 1/(.$sd_muestral))\n}"},{"path":"índice-normalizado.html","id":"escenarios-extremos","chapter":"Índice normalizado","heading":"Escenarios extremos","text":"Para este tipo de cálculo es necesario conocer los puntos más extremos que puede tomar el índice en el año de observación. De antemano, se sabe que cada indicador simple toma valores de cero 100 y, además, el método DP2 ya proporcionó el orden de entrada de las variables. Usando estos criterios se estiman los puntos focales extremos que puede tomar el índice de marginación. Se sabe que la peor situación es cuando una unidad de análisis toca todos y cada uno de los valores mínimos del vector base de referencia común, esto sería el peor escenario de marginación y tomaría un valor de cero. En sentido contrario, el valor máximo sería la situación con la menor marginación.Escenarios del mínimo y máximo valor en el índice DP2","code":"\nminimo <- NULL\nmaximo <- NULL\n## Mínimo valor del DP2\nfor(i in 1:2){\nvector_minimo <- minRV_2010  \ntabla <- abs(vector_minimo - minRV_2010) * desvest[[i]][[\"desvest.inversa\"]] *\n          get(paste0(\"ind_\", tablas[i]))[[\"correction_factors\"]][names(DP2_2020[10:17])] %>%\n           t() %>%\n            as.data.frame() \nminimo[[i]] <- data.frame(AÑO = paste(tablas[i]), Escenario = \"Mínimo\", tabla, DP2 = rowSums(tabla))\n  \n## Máximo valor del DP2   \nvector_maximo <- rep(0, 8) # Cuando los indicadores valen cero \ntabla <- abs(vector_maximo - minRV_2010) * desvest[[i]][[\"desvest.inversa\"]] *\n          get(paste0(\"ind_\", tablas[i]))[[\"correction_factors\"]][names(DP2_2020[10:17])] %>%\n           t() %>%\n            as.data.frame() \n\nmaximo [[i]] <- data.frame(AÑO = paste(tablas[i]), Escenario = \"Máximo\", tabla, DP2 = rowSums(tabla))\n}"},{"path":"índice-normalizado.html","id":"índice-normalizado-1","chapter":"Índice normalizado","heading":"Índice normalizado","text":"Se guarda la base de datos con el índice normalizado","code":"\nfor(i in 1:2){\nmin_DP2 <- minimo[[i]][[\"DP2\"]]\nmax_DP2 <- maximo[[i]][[\"DP2\"]]\nassign(paste0(\"DP2_\",tablas[i]), get(paste0(\"DP2_\", tablas[i])) %>%\n                                  dplyr::mutate(IMN = (get(paste0(\"IM_\", tablas[i])) - min_DP2)/(max_DP2 -  min_DP2)))\n}\n#Tabla final\nfor(i in tablas){\nsave(get(paste0(\"DP2_\",i)), file = paste0(here::here(), \"/Output/IML_\", i, \".RData\"))\n}"},{"path":"validación-de-datos.html","id":"validación-de-datos","chapter":"Validación de datos","heading":"Validación de datos","text":"Se crea en una lista que contiene el resumen del método DP2 para todos los años","code":"\nfor(i in tablas){\nList_DP2 <- mget(paste0(\"ind_\", tablas))\n}"},{"path":"validación-de-datos.html","id":"variables-sort","chapter":"Validación de datos","heading":"Variables sort","text":"Se crea un data.frame de acuerdo al orden de importancia de las variables para todos los años","code":"\nVariables_sort <- NULL\nfor(i in 1:2){\nVariables_sort[i] <- as.data.frame(lapply(List_DP2, function(x) get(paste0(\"ind_\",tablas[i]))$variables_sort))\n}\n\nVariables_sort <- do.call(cbind.data.frame, Variables_sort)\ncolnames(Variables_sort) <- c(\"2010\", \"2020\")"},{"path":"validación-de-datos.html","id":"coeficiente-de-correlación","chapter":"Validación de datos","heading":"Coeficiente de correlación","text":"El coeficiente de correlación es una medida que se utiliza para jerarquizar los indicadores simples de acuerdo con el grado de correlación absoluta con respecto al indicador sintético resultante, es decir, ayuda visualizar que variable tiene un mejor o peor apego con el fenómeno.Se crea un data.frame de acuerdo la correlación de cada variable con el indicador sintético (DP2) para todos los años","code":"\ncor.coeff <- NULL\ncor.coeff <- lapply(1:2, function(i) data.frame(rownames(get(paste0(\"ind_\",tablas[i]))[[\"cor.coeff\"]]),\n                                                get(paste0(\"ind_\",tablas[i]))$cor.coeff))\ncor.coeff <- do.call(cbind.data.frame, cor.coeff)\ncolnames(cor.coeff) <- c(\"Ind_2010\", \"2010\", \"Ind_2020\", \"2020\")"},{"path":"validación-de-datos.html","id":"factor-de-corrector","chapter":"Validación de datos","heading":"Factor de corrector","text":"El factor corrector, como se mencionó anteriormente, indica la proporción de información con la que contribuye el indicador simple al nuevo índice sintético, además, evita la duplicidad e incorpora información útil que retiene cada indicador simple.Se crea un data.frame de acuerdo al factor corrector de cada indicador parcial para todos los años","code":"\ncorrection_factors <- NULL\nfor(i in 1:2){\ncorrection_factors[i] <- as.data.frame(lapply(List_DP2, function(x) get(paste0(\"ind_\",tablas[i]))$correction_factors))\n}\n###Intetar de pegar el nombre de la columna \ncorrection_factors <- do.call(cbind.data.frame, c(Variables_sort, correction_factors)) %>%\n                        subset(., select = c(1, 3, 2, 4))\ncolnames(correction_factors) <- c(\"Ind_2010\", \"2010\", \"Ind_2020\", \"2020\")"},{"path":"validación-de-datos.html","id":"coeficiente-de-discriminación","chapter":"Validación de datos","heading":"Coeficiente de Discriminación","text":"El coeficiente de discriminación de Ivanovic mide el poder discriminante de la variable \\(j\\) en el conjunto de observaciones \\(\\).\\[CD_{j}=\\frac{2}{m\\left(m-1\\right)}\\sum_{,l>}^{k_{j}}m_{ij}m_{lj}\\left|\\frac{x_{ij}-x_{lj}}{{\\overline{X}}_{}}\\right|\\]donde:\\(\\circ\\:m_{ij}\\): El número de observaciones de la variable \\(x_{j}\\)\\(\\circ\\:k_{j}\\): El número de diferentes valores que toma \\(x_{}\\) en el conjunto \\(j\\).Esta medida está comprendida entre \\([0, 2]\\). Si una variable toma el mismo valor para todos los estados, el CD vale cero, indicando que posee un valor nulo de poder discriminante. Por el contrario, si una variable toma el valor teórico de máximo poder discriminante, el discriminante de la variable es total.Se crea un data.frame de acuerdo al Coeficiente de discriminación (CD) de cada indicador parcial para todos los años","code":"\ndiscrimination_coefficient <- NULL\ndiscrimination_coefficient <- lapply(1:2, function(i) data.frame(names(get(paste0(\"ind_\",tablas[i]))[[\"discrimination.coefficient\"]]),\n                                                                 get(paste0(\"ind_\",tablas[i]))$discrimination.coefficient))\n\ndiscrimination_coefficient <- do.call(cbind.data.frame, discrimination_coefficient)\ncolnames(discrimination_coefficient) <- c(\"Ind_2010\", \"2010\", \"Ind_2020\", \"2020\")"},{"path":"validación-de-datos.html","id":"cantidad-de-información-global-de-ivanovic-pena-relativa-individual","chapter":"Validación de datos","heading":"“Cantidad de Información Global de Ivanovic Pena Relativa Individual”","text":"\\[\\alpha_{}=\\frac{CD_{}\\left(1-R^{2}_{,-1,...,1} \\right)}{\\sum_{=1}^{n}CD_{} \\left(1-R^{2}_{,-1,...,1} \\right)}\\]\nEsta medida, comprendida entre 0 y 1, combina la información útil y el poder discriminante de cada indicador simple y mide la cantidad de información (combinada) relativa que aporta individualmente cada indicador simple, cuando entra de forma ordenada formar parte del indicador sintético DP2. La suma de todos los valores de \\(\\alpha_{}\\) es la unidad. [Zarsosa 1996, págs 158-174]","code":"\n## son 9 indicadores simples\nalpha <- NULL\nfor(i in 1:2){\nalpha[[i]] <- sapply(1:length(Indicadores), function(x)(get(paste0(\"ind_\",tablas[i]))[[\"correction_factors\"]][x] * get(paste0(\"ind_\",tablas[i]))[[\"discrimination.coefficient\"]][x]) /                                                         sum(get(paste0(\"ind_\",tablas[i]))[[\"correction_factors\"]] * get(paste0(\"ind_\",tablas[i]))[[\"discrimination.coefficient\"]]))\n}"},{"path":"resumen.html","id":"resumen","chapter":"Resumen","heading":"Resumen","text":"","code":""},{"path":"resumen.html","id":"mapa-a-nivel-localidad","chapter":"Resumen","heading":"Mapa a nivel localidad","text":"","code":""},{"path":"resumen.html","id":"comparación-en-el-tiempo","chapter":"Resumen","heading":"Comparación en el tiempo","text":"","code":""},{"path":"referencias.html","id":"referencias","chapter":"Referencias","heading":"Referencias","text":"Dalenius, T. (1950). problem optimum stratification. Scandinavian Actuarial J., 3-4, 203-13. Recuperado de: https://doi.org/10.1080/03461238.1950.10432042\n__________ y Hodges, J. L., Jr. (1959). Minimum variance stratification. Journal American Statistical Association, 54, 88-101.\nGunning, P. y Horgan, J. M. (2004). new algorithm construction stratum boundaries skewed populations. Survey Methodology, 30 (2), 159–166.Pena Trapero, J. B. (1977). Problemas de la medición del bienestar y conceptos afines. Una aplicación al Caso Español. . N. E: Madrid.Somarriba, N. y Pena, B. (2009). Synthetic Indicators Quality Life Europe. Social Indicators Research. Recuperado de: https://doi.org/10.1007/s11205-008-9356-y\n__________, Zarzosa, P. y Pena, T. (2013). La calidad de vida en la Unión Europea. Un análisis temporal por medio de indicadores sintéticos. Congreso de la Asociación Española de Ciencia Regional. XXXIX Reunión de Estudios Regionales. Smart regions smarter growth strategy: new challenges Regional Policy potentials cities overcome worldwide economic crisis. Recuperado de: https://old.reunionesdeestudiosregionales.org/Oviedo2013/htdocs/pdf/p851.pdfZarzosa, P. (1996). Aproximación la medición del bienestar social. Secretario de Publicaciones: Valladolid.\n__________. (2009). Estimación de la pobreza en las comunidades autónomas españolas, mediante la distancia DP2 de Pena. Estudios de Economía Aplicada, 27 (2), 397–416.\n__________. (2012). Social Welfare Spain Crisis: Territorial Chronological Analysis. International Journal Advances Management Economics 1 (4), 165-171.\n__________ y Somarriba, N. (2013). Assessment Social Welfare Spain: Territorial Analysis Using Synthetic Welfare Indicator. Social Indicators Research, 111, 1-23.","code":"\nsesion_info <- devtools::session_info()"}]
